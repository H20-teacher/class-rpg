<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì§€ë¸Œë¦¬ ìˆ² ë§ˆì„ - ìš°ë¦¬ êµì‹¤</title>
    <link href="https://fonts.googleapis.com/css2?family=Jua&family=Noto+Sans+KR:wght@300;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #f0f4f0;
            --main-green: #4e7d4e;
            --warm-brown: #8d6e63;
            --text-dark: #2c3e50;
        }

        body {
            background-color: var(--bg-color);
            font-family: 'Jua', cursive;
            margin: 0; padding: 0;
            background: linear-gradient(rgba(255, 255, 255, 0.4), rgba(255, 255, 255, 0.4)), 
                        url('https://images.unsplash.com/photo-1542273917363-3b1817f69a2d?auto=format&fit=crop&w=1950&q=80');
            background-size: cover; background-attachment: fixed;
        }

        .container { max-width: 850px; margin: 20px auto; padding: 20px; }
        header { text-align: center; margin-bottom: 20px; }
        header h1 { font-size: 3rem; color: var(--main-green); text-shadow: 2px 2px 0px white; margin: 0; }

        /* íƒ­ ë²„íŠ¼ */
        .tab-menu { display: flex; justify-content: center; gap: 15px; margin-bottom: 30px; }
        .tab-btn {
            background: rgba(255, 255, 255, 0.7); border: 2px solid var(--main-green);
            padding: 12px 25px; border-radius: 50px; font-family: 'Jua'; font-size: 1.2rem;
            color: var(--main-green); cursor: pointer; transition: 0.3s;
        }
        .tab-btn.active { background: var(--main-green); color: white; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }

        /* ì„¹ì…˜ ì œì–´ */
        .tab-content { display: none; animation: fadeIn 0.5s; }
        .tab-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* [ì²« ë²ˆì§¸ íƒ­: 2x2 ê·¸ë¦¬ë“œ] */
        .hub-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr); /* 2ì—´ ë°°ì¹˜ */
            grid-template-rows: repeat(2, 200px); /* ê· ë“±í•œ ë†’ì´ */
            gap: 20px;
        }

        .hub-item {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            border-radius: 30px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border: 2px solid #fff;
            cursor: pointer;
            transition: 0.3s;
            text-decoration: none;
            color: var(--text-dark);
        }
        .hub-item:hover { transform: translateY(-5px); background: white; border-color: var(--main-green); }
        .hub-item .icon { font-size: 4rem; margin-bottom: 10px; }
        .hub-item span { font-size: 1.5rem; }

        /* [ë‘ ë²ˆì§¸ íƒ­: ì¹œêµ¬ë“¤ ì§‘] */
        .house-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; }
        .house-card { 
            background: white; border-radius: 25px; padding: 20px; text-align: center; 
            cursor: pointer; transition: 0.3s; box-shadow: 0 5px 10px rgba(0,0,0,0.05);
        }
        .house-card:hover { transform: translateY(-5px); border: 2px solid var(--main-green); }

        @media (max-width: 600px) {
            .hub-grid { grid-template-columns: 1fr; grid-template-rows: auto; }
            .house-grid { grid-template-columns: repeat(2, 1fr); }
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>ğŸŒ³ ì§€ë¸Œë¦¬ ìˆ² êµì‹¤ ğŸŒ³</h1>
        <p id="todayDate" style="font-family:'Noto Sans KR'; color: var(--warm-brown);"></p>
    </header>

    <nav class="tab-menu">
        <button class="tab-btn active" onclick="openTab(evt, 'plaza')">ğŸ¡ ë§ˆì„ ê´‘ì¥</button>
        <button id="friendTabBtn" class="tab-btn" onclick="openTab(evt, 'village')">ğŸ˜ï¸ ì¹œêµ¬ë“¤ ì§‘</button>
    </nav>

    <div id="plaza" class="tab-content active">
        <div class="hub-grid">
            <div class="hub-item" onclick="accessMyRoom()">
                <div class="icon">ğŸ </div>
                <span>ë§ˆì´ë£¸ ê°€ê¸°</span>
            </div>
            <div class="hub-item" onclick="alert('ì•„ì¹¨í™œë™ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.')">
                <div class="icon">â˜€ï¸</div>
                <span>ì•„ì¹¨í™œë™</span>
            </div>
            <div class="hub-item" onclick="alert('ê°ì •ìƒë‹´ì†Œë¡œ ì´ë™í•©ë‹ˆë‹¤.')">
                <div class="icon">â˜ï¸</div>
                <span>ê°ì •ìƒë‹´ì†Œ</span>
            </div>
            <div class="hub-item" onclick="alert('ê³µë¶€ìƒë‹´ì†Œë¡œ ì´ë™í•©ë‹ˆë‹¤.')">
                <div class="icon">ğŸ“–</div>
                <span>ê³µë¶€ìƒë‹´ì†Œ</span>
            </div>
        </div>
    </div>

    <div id="village" class="tab-content">
        <div class="house-grid" id="studentGrid">
            </div>
    </div>
</div>

<script>
    let studentData = []; // ë°ì´í„°ë¥¼ ì „ì—­ìœ¼ë¡œ ì €ì¥

    function openTab(evt, tabId) {
        let contents = document.getElementsByClassName("tab-content");
        for (let i = 0; i < contents.length; i++) contents[i].classList.remove("active");
        let buttons = document.getElementsByClassName("tab-btn");
        for (let i = 0; i < buttons.length; i++) buttons[i].classList.remove("active");
        document.getElementById(tabId).classList.add("active");
        if(evt) evt.currentTarget.classList.add("active");
    }

    // ë§ˆì´ë£¸ ê°€ê¸° (ë³¸ì¸ í™•ì¸)
    function accessMyRoom() {
        const name = prompt("ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.");
        if (!name) return;
        const student = studentData.find(s => s.name === name);
        if (student) {
            const pass = prompt("ì•”í˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
            if (String(pass) === String(student.passcode)) {
                const win = window.open("", "_blank");
                win.document.write(student.htmlCode || "<h1>ë°©ì´ ë¹„ì–´ìˆì–´ìš”!</h1>");
                win.document.close();
            } else { alert("ì•”í˜¸ê°€ í‹€ë ¸ì–´ìš”!"); }
        } else { alert("ë“±ë¡ë˜ì§€ ì•Šì€ ì´ë¦„ì…ë‹ˆë‹¤."); }
    }

    // ë°ì´í„° ë¡œë“œ
    const apiURL = "ì„ ìƒë‹˜ì˜_êµ¬ê¸€_ìŠ¤í¬ë¦½íŠ¸_URL";
    async function loadData() {
        const grid = document.getElementById('studentGrid');
        try {
            const res = await fetch(apiURL);
            studentData = await res.json();
            grid.innerHTML = "";
            studentData.forEach(s => {
                const card = document.createElement('div');
                card.className = 'house-card';
                card.innerHTML = `<div style="font-size:2rem;">ğŸ¡</div><div>${s.name}ì˜ ì§‘</div>`;
                card.onclick = () => {
                    const win = window.open("", "_blank");
                    win.document.write(s.htmlCode);
                    win.document.close();
                };
                grid.appendChild(card);
            });
        } catch(e) { grid.innerHTML = "ë°ì´í„° ë¡œë”© ì‹¤íŒ¨"; }
    }

    document.getElementById('todayDate').innerText = new Date().toLocaleDateString('ko-KR', {year:'numeric', month:'long', day:'numeric', weekday:'long'});
    loadData();
</script>
</body>
</html>
